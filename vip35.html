<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ğŸ® Game VIP 3.5</title>
<style>
body{font-family:Arial,sans-serif;margin:0;padding:0;background:#f0f8ff;}
header{background:#222;color:#fff;padding:10px;text-align:center;font-size:1.3em;}
nav{display:flex;justify-content:center;gap:5px;margin:10px;}
nav button{padding:5px 10px;border:none;border-radius:5px;cursor:pointer;background:#0077ff;color:#fff;}
nav button.active{background:#005bb5;}
#main{display:flex;}
#gameArea{flex:3;padding:10px;}
#aiChat{flex:1;padding:10px;background:#e0e0e0;display:none;max-height:90vh;overflow-y:auto;position:relative;}
#aiChat h3{margin-top:0;}
#chatLog{height:60vh;overflow-y:auto;background:#fff;padding:5px;border:1px solid #ccc;margin-bottom:5px;}
#chatInput{width:calc(100% - 60px);padding:5px;}
#chatSend{width:50px;padding:5px;}
#adminMini{position:fixed;top:5px;right:5px;}
#adminMini input{width:80px;padding:2px;}
#adminMini button{padding:2px 5px;}
#adminPanel{display:none;border:1px solid #444;padding:10px;background:#fff;position:fixed;top:40px;right:5px;width:300px;max-height:90vh;overflow:auto;}
#tabsContent > div{display:none;}
#tabsContent > div.active{display:block;}
.cup{width:100px;height:100px;background:brown;border-radius:50%;margin:10px auto;cursor:pointer;position:relative;transition:transform 0.5s;}
.diceContainer{display:flex;justify-content:center;gap:10px;font-size:40px;min-height:50px;}
button{transition:0.2s;}
button:hover{opacity:0.8;}
.stockItem{display:inline-block;padding:3px 6px;border-radius:3px;margin:2px;color:#fff;}
.up{background:green;}
.down{background:red;}
</style>
</head>
<body>

<header>ğŸ® Game VIP 3.5</header>

<nav>
  <button class="tabBtn active" data-tab="taixiu">TÃ i Xá»‰u</button>
  <button class="tabBtn" data-tab="cophieu">Cá»• Phiáº¿u</button>
  <button class="tabBtn" data-tab="vongquay">VÃ²ng Quay</button>
  <button class="tabBtn" data-tab="inventory">Inventory</button>
</nav>

<div id="main">
  <div id="gameArea">
    <div id="tabsContent">
      
      <!-- TÃ€I Xá»ˆU -->
      <div id="taixiu" class="active">
        <p>Chá»n TÃ i/Xá»‰u vÃ  Ä‘áº·t cÆ°á»£c:</p>
        <button class="betBtn" data-choice="TÃ i">TÃ i</button>
        <button class="betBtn" data-choice="Xá»‰u">Xá»‰u</button>
        <input type="number" id="betAmount" placeholder="VNÄ" value="1000" min="100">
        <p id="currentBet">ChÆ°a chá»n cÆ°á»£c</p>
        <div class="cup" id="cup"></div>
        <div class="diceContainer" id="playerDice"></div>
        <div class="diceContainer" id="aiDice"></div>
        <p id="result"></p>
        <p>Thá»‘ng kÃª cÆ°á»£c:</p>
        <p>TÃ i: <span id="taiCount">0</span> ngÆ°á»i, <span id="taiTotal">0</span> VNÄ</p>
        <p>Xá»‰u: <span id="xiuCount">0</span> ngÆ°á»i, <span id="xiuTotal">0</span> VNÄ</p>
      </div>

      <!-- Cá»” PHIáº¾U -->
      <div id="cophieu">
        <h3>ğŸ“ˆ Báº£ng cá»• phiáº¿u</h3>
        <div id="stocks"></div>
        <h3>ğŸ’¹ Mua/BÃ¡n cá»• phiáº¿u</h3>
        <select id="stockSelect"></select>
        <input type="number" id="stockAmount" placeholder="Sá»‘ lÆ°á»£ng" min="1">
        <button id="buyStockBtn">Mua</button>
        <button id="sellStockBtn">BÃ¡n</button>
        <p id="stockMsg"></p>
        <p>ğŸ“Š Inventory cá»• phiáº¿u: <span id="stockInventory"></span></p>
      </div>

      <!-- VÃ’NG QUAY -->
      <div id="vongquay">
        <h3>ğŸ¡ VÃ²ng quay may máº¯n (1 láº§n/code)</h3>
        <button id="spinBtn">Quay VÃ²ng</button>
        <p id="spinResult"></p>
      </div>

      <!-- INVENTORY -->
      <div id="inventory">
        <h3>ğŸ Inventory</h3>
        <p>ğŸ’° Tiá»n VNÄ: <span id="money">25000</span></p>
        <p>â­ Äiá»ƒm thÆ°á»Ÿng: <span id="points">0</span></p>
        <p>ğŸ Váº­t pháº©m: <span id="items">0</span></p>
      </div>

    </div>
  </div>

  <!-- AI CHAT (chá»‰ hiá»‡n khi admin báº­t) -->
  <div id="aiChat">
    <h3>ğŸ¤– AI Trá»£ LÃ½</h3>
    <div id="chatLog"></div>
    <input type="text" id="chatInput" placeholder="GÃµ tin nháº¯n...">
    <button id="chatSend">Gá»­i</button>
  </div>
</div>

<!-- ADMIN MINI -->
<div id="adminMini">
  <input type="password" id="adminPwdMini" placeholder="ğŸ”‘ Admin">
  <button id="adminLoginBtnMini">OK</button>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel">
  <h3>ğŸ¯ Admin Panel</h3>
  <p>Chá»©c nÄƒng: Táº¡o code, quáº£n lÃ½ vÃ²ng quay, AI trá»£ lÃ½</p>
</div>

<script>
// -------------------------
// Biáº¿n chung
let money=25000, points=0, items=0;
let playerChoice="", playerBet=0;
let stocks=[{name:'AAA',value:100},{name:'BBB',value:200},{name:'CCC',value:150}];
let playerStocks={AAA:0, BBB:0, CCC:0};
let taiCount=0, xiuCount=0, taiTotal=0, xiuTotal=0;
let aiEnabled=false;

// -------------------------
// Tabs
document.querySelectorAll('.tabBtn').forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll('.tabBtn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    document.querySelectorAll('#tabsContent > div').forEach(d=>d.classList.remove('active'));
    document.getElementById(btn.dataset.tab).classList.add('active');
  }
});

// -------------------------
// Admin mini login
document.getElementById('adminLoginBtnMini').onclick=()=>{
  if(document.getElementById('adminPwdMini').value==='1234567890'){
    document.getElementById('adminPanel').style.display='block';
    document.getElementById('aiChat').style.display='block';
    document.getElementById('adminMini').style.display='none';
    aiEnabled=true;
    alert('ChÃ o admin! AI Trá»£ lÃ½ Ä‘Ã£ báº­t.');
  } else alert('Sai máº­t kháº©u!');
};

// -------------------------
// AI Chat (giao diá»‡n Ä‘Æ¡n giáº£n)
const chatLog=document.getElementById('chatLog');
document.getElementById('chatSend').onclick=()=>{
  const msg=document.getElementById('chatInput').value.trim();
  if(!msg) return;
  const userMsg=document.createElement('div'); userMsg.textContent="Báº¡n: "+msg; chatLog.appendChild(userMsg);
  document.getElementById('chatInput').value='';
  if(aiEnabled){
    setTimeout(()=>{
      const aiMsg=document.createElement('div'); 
      aiMsg.textContent="AI: "+generateAIResponse(msg);
      chatLog.appendChild(aiMsg);
      chatLog.scrollTop=chatLog.scrollHeight;
    },300);
  }
};

function generateAIResponse(msg){
  msg=msg.toLowerCase();
  if(msg.includes("tÃ i")) return `TÃ i Ä‘ang cÃ³ ${taiCount} ngÆ°á»i cÆ°á»£c, tá»•ng ${taiTotal} VNÄ`;
  if(msg.includes("xá»‰u")) return `Xá»‰u Ä‘ang cÃ³ ${xiuCount} ngÆ°á»i cÆ°á»£c, tá»•ng ${xiuTotal} VNÄ`;
  if(msg.includes("cá»• phiáº¿u")) return `Cá»• phiáº¿u AAA:${stocks[0].value} BBB:${stocks[1].value} CCC:${stocks[2].value}`;
  return "AI gá»£i Ã½: Theo dÃµi chÃ©n, cá»• phiáº¿u vÃ  vÃ²ng quay trÆ°á»›c khi cÆ°á»£c.";
}

// -------------------------
// TÃ i Xá»‰u (cÆ¡ báº£n kÃ©o má»Ÿ chÃ©n)
// Chá»‰ demo logic, chÃ©n click â†’ hiá»‡n káº¿t quáº£
const cup=document.getElementById('cup');
cup.onclick=()=>{
  if(!playerChoice||playerBet<=0){alert('Chá»n TÃ i/Xá»‰u vÃ  nháº­p tiá»n cÆ°á»£c!'); return;}
  // Cáº­p nháº­t thá»‘ng kÃª
  if(playerChoice==="TÃ i"){taiCount++; taiTotal+=playerBet;} else {xiuCount++; xiuTotal+=playerBet;}
  document.getElementById('taiCount').textContent=taiCount;
  document.getElementById('taiTotal').textContent=taiTotal;
  document.getElementById('xiuCount').textContent=xiuCount;
  document.getElementById('xiuTotal').textContent=xiuTotal;
  // Roll dice
  let faces=['\u2680','\u2681','\u2682','\u2683','\u2684','\u2685'];
  let roll = ()=>faces[Math.floor(Math.random()*6)];
  let playerDice=[roll(),roll(),roll()];
  let aiDice=[roll(),roll(),roll()];
  document.getElementById('playerDice').textContent=playerDice.join(' ');
  document.getElementById('aiDice').textContent=aiDice.join(' ');
  let sumPlayer=playerDice.reduce((a,b)=>a+faces.indexOf(b)+1,0);
  let result=sumPlayer>=11?"TÃ i":"Xá»‰u";
  let resText=`Báº¡n: ${sumPlayer} â†’ ${result}. `;
  if(result===playerChoice){money+=playerBet*2; resText+="Báº¡n tháº¯ng! ";} else {money-=playerBet; resText+="Báº¡n thua! ";}
  document.getElementById('money').textContent=money;
  document.getElementById('result').textContent=resText;
};

// -------------------------
// Chá»n TÃ i/Xá»‰u
document.querySelectorAll('.betBtn').forEach(b=>b.onclick=()=>{
  playerChoice=b.dataset.choice;
  playerBet=parseInt(document.getElementById('betAmount').value);
  document.getElementById('currentBet').textContent=`CÆ°á»£c ${playerBet} VNÄ cho ${playerChoice}`;
});

// -------------------------
// Cá»• phiáº¿u
const stockSelect=document.getElementById('stockSelect');
stocks.forEach(s=>{let opt=document.createElement('option'); opt.value=s.name; opt.textContent=`${s.name} - ${s.value} VNÄ`; stockSelect.appendChild(opt);});
function updateStocks(){
  const stocksEl=document.getElementById('stocks'); stocksEl.innerHTML='';
  stocks.forEach(s=>{
    let div=document.createElement('div'); div.textContent=`${s.name}: ${s.value}`; 
    div.className='stockItem '+(Math.random()>0.5?'up':'down'); stocksEl.appendChild(div);
  });
  let text=''; for(let s in playerStocks) text+=`${s}:${playerStocks[s]} | `; document.getElementById('stockInventory').textContent=text;
}
document.getElementById('buyStockBtn').onclick=()=>{
  let s=stockSelect.value, amt=parseInt(document.getElementById('stockAmount').value);
  if(isNaN(amt)||amt<=0){alert('Sá»‘ lÆ°á»£ng khÃ´ng há»£p lá»‡'); return;}
  let price=stocks.find(st=>st.name===s).value*amt;
  if(price>money){alert('KhÃ´ng Ä‘á»§ VNÄ'); return;}
  money-=price; playerStocks[s]=(playerStocks[s]||0)+amt;
  document.getElementById('money').textContent=money; updateStocks();
};
document.getElementById('sellStockBtn').onclick=()=>{
  let s=stockSelect.value, amt=parseInt(document.getElementById('stockAmount').value);
  if(isNaN(amt)||amt<=0||amt>playerStocks[s]){alert('KhÃ´ng Ä‘á»§ cá»• phiáº¿u'); return;}
  let price=stocks.find(st=>st.name===s).value*amt;
  money+=price; playerStocks[s]-=amt;
  document.getElementById('money').textContent=money; updateStocks();
};
updateStocks();

// -------------------------
// VÃ²ng quay (demo)
document.getElementById('spinBtn').onclick=()=>{alert('VÃ²ng quay 1 láº§n, quÃ  admin chá»n!'); document.getElementById('spinResult').textContent='ÄÃ£ quay xong!';};

</script>

</body>
</html>
