<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ğŸ² TÃ i Xá»‰u VIP + Code + VÃ²ng Quay + Cá»• Phiáº¿u</title>
<style>
body{font-family:Arial,sans-serif;text-align:center;background:#f0f8ff;margin:0;padding:20px;}
h1{margin-bottom:10px;}
button{padding:8px 16px;margin:4px;border:none;border-radius:5px;cursor:pointer;transition:0.3s;}
button:hover{opacity:0.8;}
#cup{width:120px;height:120px;background:brown;border-radius:50%;margin:20px auto;cursor:pointer;position:relative;transition:transform 0.5s;}
.dice-container{display:flex;justify-content:center;gap:10px;font-size:50px;min-height:60px;margin:10px 0;}
#inventory,#vouchers,#stocks{margin-top:20px;display:inline-block;text-align:left;}
.voucher-btn{background:#ff9800;margin:2px;padding:5px 10px;border-radius:5px;color:white;}
.voucher-btn:hover{transform:scale(1.1);}
.stock-item{margin:2px;padding:3px 6px;border-radius:3px;color:white;display:inline-block;min-width:50px;text-align:center;}
#adminPanel{border:1px solid #ccc;padding:10px;margin-top:20px;display:none;background:#fff;border-radius:10px;}
#adminPanel input, #adminPanel select{margin:3px;padding:3px;}
#timer{font-weight:bold;}
@keyframes shakeAnim {0%{transform:rotate(0deg);}25%{transform:rotate(10deg);}50%{transform:rotate(-10deg);}75%{transform:rotate(10deg);}100%{transform:rotate(0deg);}}
#cup.shake{animation:shakeAnim 0.5s infinite;}
</style>
</head>
<body>

<h1>ğŸ² Game TÃ i Xá»‰u VIP ğŸ²</h1>
<p>NgÆ°á»i chÆ¡i má»›i báº¯t Ä‘áº§u: 25.000 VNÄ</p>
<p>Chá»n TÃ i/Xá»‰u vÃ  Ä‘áº·t cÆ°á»£c:</p>
<button class="bet-btn" data-choice="TÃ i">TÃ i</button>
<button class="bet-btn" data-choice="Xá»‰u">Xá»‰u</button>
<input type="number" id="betAmount" placeholder="VNÄ" value="1000" min="100">
<p id="currentBet">ChÆ°a chá»n cÆ°á»£c</p>

<div id="cup"></div>
<div class="dice-container" id="playerDice"></div>
<div class="dice-container" id="aiDice"></div>
<p id="result"></p>

<p>â± Thá»i gian cÃ²n láº¡i: <span id="timer">60</span>s</p>
<button id="startBtn">Báº¯t Ä‘áº§u lÆ°á»£t chÆ¡i</button>

<h3>ğŸ Inventory</h3>
<div id="inventory">
<p>ğŸ’° Tiá»n VNÄ: <span id="money">25000</span></p>
<p>â­ Äiá»ƒm thÆ°á»Ÿng: <span id="points">0</span></p>
<p>ğŸ Váº­t pháº©m: <span id="items">0</span></p>
<p>ğŸ“Š Cá»• phiáº¿u: <span id="stockInventory"></span></p>
</div>

<h3>ğŸ“œ Phiáº¿u quÃ </h3>
<div id="vouchers"></div>

<h3>ğŸ“ˆ Báº£ng cá»• phiáº¿u</h3>
<div id="stocks"></div>

<h3>ğŸ’¹ Mua cá»• phiáº¿u</h3>
<select id="stockSelect"></select>
<input type="number" id="stockAmount" placeholder="Sá»‘ lÆ°á»£ng" min="1">
<button id="buyStockBtn">Mua</button>
<p id="stockMsg"></p>

<h3>ğŸ¡ VÃ²ng quay may máº¯n (1 láº§n/ code)</h3>
<button id="spinBtn">Quay VÃ²ng</button>
<p id="spinResult"></p>

<h3>Nháº­p code nháº­n quÃ </h3>
<input type="text" id="codeInput" placeholder="Nháº­p code">
<button id="redeemBtn">Nháº­n quÃ </button>
<p id="codeMsg"></p>

<h3>ğŸ”‘ Admin Panel</h3>
<input type="password" id="adminPwd" placeholder="Máº­t kháº©u admin">
<button id="adminLoginBtn">ÄÄƒng nháº­p</button>
<div id="adminPanel">
<h4>ğŸ¯ Táº¡o Code Má»›i</h4>
<input type="text" id="newCode" placeholder="Code">
<select id="newCodeType">
<option value="money">ğŸ’° Tiá»n VNÄ</option>
<option value="points">â­ Äiá»ƒm</option>
<option value="item">ğŸ Váº­t pháº©m</option>
<option value="voucherMoney">ğŸ“œ Phiáº¿u Tiá»n</option>
<option value="voucherPoints">ğŸ“œ Phiáº¿u Äiá»ƒm</option>
<option value="voucherItem">ğŸ“œ Phiáº¿u Váº­t pháº©m</option>
</select>
<input type="number" id="newCodeValue" placeholder="GiÃ¡ trá»‹" min="1">
<label><input type="checkbox" id="codeSpin"> KÃ¨m vÃ²ng quay</label>
<button id="addCodeBtn">ThÃªm Code</button>
<h4>Danh sÃ¡ch Code</h4>
<div id="codeList" style="max-height:150px;overflow:auto;"></div>
</div>

<script>
// --- Biáº¿n chung ---
let money=25000, points=0, items=0, timer=60, playerChoice="", playerBet=0;
let diceFaces=['\u2680','\u2681','\u2682','\u2683','\u2684','\u2685'];
let vouchers=[], codes=[], stocks=[{name:'AAA',value:100},{name:'BBB',value:200},{name:'CCC',value:150}];
let playerStocks={AAA:0, BBB:0, CCC:0};

const moneyEl=document.getElementById('money'), pointsEl=document.getElementById('points'), itemsEl=document.getElementById('items');
const voucherEl=document.getElementById('vouchers'), stocksEl=document.getElementById('stocks');

// --- Cáº­p nháº­t ---
function updateInventory(){moneyEl.textContent=money; pointsEl.textContent=points; itemsEl.textContent=items;}
function updateVouchers(){voucherEl.innerHTML=''; vouchers.forEach((v,i)=>{let b=document.createElement('button');b.textContent=`${v.type} +${v.value}`; b.className='voucher-btn'; b.onclick=()=>{useVoucher(i);}; voucherEl.appendChild(b);});}
function updateStocks(){stocksEl.innerHTML=''; stocks.forEach(s=>{let div=document.createElement('div'); div.textContent=s.name+':'+s.value; div.className='stock-item'; div.style.backgroundColor=(Math.random()>0.5?'green':'red'); stocksEl.appendChild(div);});}
function updateStockInventory(){let text=''; for(let s in playerStocks) text+=`${s}: ${playerStocks[s]} | `; document.getElementById('stockInventory').textContent=text;}

// --- Voucher ---
function useVoucher(i){let v=vouchers[i]; if(v.type==='Tiá»n VNÄ') money+=v.value; else if(v.type==='Äiá»ƒm') points+=v.value; else if(v.type==='Váº­t pháº©m') items+=v.value; vouchers.splice(i,1); updateInventory(); updateVouchers(); alert(`Sá»­ dá»¥ng phiáº¿u ${v.type} +${v.value}`);}

// --- Chá»n TÃ i/Xá»‰u ---
document.querySelectorAll('.bet-btn').forEach(b=>b.onclick=()=>{playerChoice=b.dataset.choice; playerBet=parseInt(document.getElementById('betAmount').value); document.getElementById('currentBet').textContent=`CÆ°á»£c ${playerBet} VNÄ cho ${playerChoice}`;});

// --- Báº¯t Ä‘áº§u lÆ°á»£t chÆ¡i ---
document.getElementById('startBtn').onclick = () => {
    if(playerChoice==""||playerBet<=0){alert('Chá»n TÃ i/Xá»‰u vÃ  nháº­p tiá»n cÆ°á»£c!');return;}
    if(playerBet>money){alert('KhÃ´ng Ä‘á»§ tiá»n VNÄ');return;}
    timer=60; document.getElementById('timer').textContent=timer;
    const cup=document.getElementById('cup');
    cup.classList.add('shake');
    document.getElementById('result').textContent='ChÃ©n Ä‘ang láº¯c... hÃ£y chá» 1 phÃºt!';
    const countdown=setInterval(()=>{
        timer--;
        document.getElementById('timer').textContent=timer;
        if(timer<=0){
            clearInterval(countdown);
            cup.classList.remove('shake');
            playGame();
        }
    },1000);
};

// --- Láº¯c xÃºc xáº¯c ---
function rollDice(){return diceFaces[Math.floor(Math.random()*6)];}
function playGame(){
const playerDiceEl=document.getElementById('playerDice'); const aiDiceEl=document.getElementById('aiDice');
playerDiceEl.innerHTML=''; aiDiceEl.innerHTML='';
let playerDice=[], aiDice=[];
for(let i=0;i<3;i++){playerDice.push(rollDice()); aiDice.push(rollDice());}
playerDice.forEach(d=>{let span=document.createElement('span'); span.textContent=d; playerDiceEl.appendChild(span);});
aiDice.forEach(d=>{let span=document.createElement('span'); span.textContent=d; aiDiceEl.appendChild(span);});
let sumPlayer=playerDice.map(d=>diceFaces.indexOf(d)+1).reduce((a,b)=>a+b,0);
let sumAI=aiDice.map(d=>diceFaces.indexOf(d)+1).reduce((a,b)=>a+b,0);
let resultP=sumPlayer>=11?'TÃ i':'Xá»‰u';
let resultAI=sumAI>=11?'TÃ i':'Xá»‰u';
let resultText=`Báº¡n: ${sumPlayer}â†’${resultP} | AI: ${sumAI}â†’${resultAI}\n`;
if(resultP==playerChoice){money+=playerBet*2; resultText+='Báº¡n tháº¯ng! ';} else {money-=playerBet; resultText+='Báº¡n thua! ';}
resultText+='AI chÆ¡i bÃ¬nh thÆ°á»ng.';
document.getElementById('result').textContent=resultText;
updateInventory(); updateStocks(); updateStockInventory();
}

// --- VÃ²ng quay ---
document.getElementById('spinBtn').onclick=()=>{
alert('VÃ²ng quay 1 láº§n! Nháº­n quÃ  admin chá»n.');
document.getElementById('spinResult').textContent='ÄÃ£ quay xong! Nháº­n quÃ ...';
};

// --- Nháº­p code ---
document.getElementById('redeemBtn').onclick=()=>{
let c=document.getElementById('codeInput').value.trim().toUpperCase(); let found=codes.find(cd=>cd.code===c); 
if(!found){document.getElementById('codeMsg').textContent='Code khÃ´ng tá»“n táº¡i!';return;}
if(found.used){document.getElementById('codeMsg').textContent='Code Ä‘Ã£ dÃ¹ng!';return;}
if(found.type==='money'){money+=found.value;} 
else if(found.type==='points'){points+=found.value;} 
else if(found.type==='item'){items+=found.value;} 
else if(found.type.includes('voucher')){vouchers.push({type:found.type.replace('voucher','').replace('Money','Tiá»n VNÄ').replace('Points','Äiá»ƒm').replace('Item','Váº­t pháº©m'),value:found.value});}
found.used=true; document.getElementById('codeMsg').textContent=`Nháº­n quÃ  tá»« code ${c}!`; updateInventory(); updateVouchers(); updateStocks();
};

// --- Admin ---
document.getElementById('adminLoginBtn').onclick=()=>{
if(document.getElementById('adminPwd').value==='1234567890'){document.getElementById('adminPanel').style.display='block'; alert('ChÃ o admin!');} else alert('Sai máº­t kháº©u!');
};
document.getElementById('addCodeBtn').onclick=()=>{
let code=document.getElementById('newCode').value.trim().toUpperCase();
let type=document.getElementById('newCodeType').value;
let value=parseInt(document.getElementById('newCodeValue').value);
let spin=document.getElementById('codeSpin').checked;
if(!code||!type||isNaN(value)){alert('Nháº­p Ä‘áº§y Ä‘á»§!');return;}
codes.push({code,type,value,spin:spin,used:false}); updateCodeList(); alert(`ThÃªm code ${code} thÃ nh cÃ´ng!`);
document.getElementById('newCode').value=''; document.getElementById('newCodeValue').value='';
};
function updateCodeList(){const list=document.getElementById('codeList'); list.innerHTML=''; codes.forEach(c=>{const div=document.createElement('div'); div.textContent=`${c.code} | ${c.type} +${c.value} | VÃ²ng quay: ${c.spin?'CÃ³':'KhÃ´ng'} | ${c.used?'ÄÃ£ dÃ¹ng':'ChÆ°a dÃ¹ng'}`; list.appendChild(div);});}

// --- Mua cá»• phiáº¿u ---
let stockSelect = document.getElementById('stockSelect');
stocks.forEach(s=>{let opt=document.createElement('option'); opt.value=s.name; opt.textContent=`${s.name} - GiÃ¡: ${s.value} VNÄ`; stockSelect.appendChild(opt);});
document.getElementById('buyStockBtn').onclick = ()=>{
    let stockName = stockSelect.value;
    let amount = parseInt(document.getElementById('stockAmount').value);
    if(isNaN(amount)||amount<=0){alert('Nháº­p sá»‘ lÆ°á»£ng há»£p lá»‡'); return;}
    let stockPrice = stocks.find(s=>s.name===stockName).value*amount;
    if(stockPrice>money){alert('KhÃ´ng Ä‘á»§ tiá»n VNÄ'); return;}
    money-=stockPrice;
    playerStocks[stockName]=(playerStocks[stockName]||0)+amount;
    updateInventory(); updateStockInventory();
    document.getElementById('stockMsg').textContent=`Mua ${amount} cá»• phiáº¿u ${stockName} thÃ nh cÃ´ng!`;
};

// --- Khá»Ÿi táº¡o ---
updateStocks(); updateInventory(); updateVouchers(); updateStockInventory();
</script>

</body>
</html>
